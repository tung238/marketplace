<header>
    <div class="container">
        <div #menu id="myTopnav" class="topnav">
            <a class="navbar-brand" routerLink="/">
                <img class="image-responsive" src="/assets/images/logo.jpg">
            </a>
            <div class="navright">

                <a *ngIf="!oAuthService.hasValidAccessToken()" routerLink="/dang-nhap"><i class="fa fa-sign-in"
                        aria-hidden="true"></i>&nbsp;Đăng
                    nhập</a>
                <a *ngIf="!oAuthService.hasValidAccessToken()" routerLink="/dang-ky"><i class="fa fa-user-plus"
                        aria-hidden="true"></i>&nbsp;Đăng
                    ký</a>
                <div *ngIf="oAuthService.hasValidAccessToken()" class="dropdown">
                    <a class="dropbtn">{{user.name}}
                        <i class="fa fa-caret-down"></i>
                    </a>
                    <div class="dropdown-content">
                        <a routerLink="/admin" *ngIf="user.role == 'Admin'"><i class="fa fa-tachometer"></i>&nbsp;Trang
                            quản lý</a>
                        <a routerLink="/tai-khoan"><i class="fa fa-info"></i>&nbsp;&nbsp;Thông tin tài khoản</a>
                        <a (click)="logout()" href="javascript:void(null);"><i class="fa fa-sign-out" aria-hidden="true"></i>&nbsp;Đăng
                            xuất</a>
                    </div>
                </div>

                <a class="post-btn" routerLink="/dang-tin"><i class="fa fa-bullhorn" aria-hidden="true"></i>&nbsp;Đăng
                    tin miễn phí</a>
                <a href="javascript:void(0);" class="icon" style="font-size:15px;" (click)="myFunction()"><i class="fa fa-bars"></i></a>
            </div>
        </div>
        <div class="search-form">
            <div nz-row nzType="flex" nzJustify="start">
                <div nz-col nzXs="24" nzSm="12" nzMd="8">
                    <nz-input-group [nzPrefix]="prefixTemplate" style="padding:5px 0;">
                        <input type="text" class="search-control" nz-input placeholder="Bạn cần tìm gì?" [(ngModel)]="searchText">
                    </nz-input-group>
                    <ng-template #prefixTemplate><i class="fa fa-search"></i></ng-template>
                </div>
                <div nz-col nzXs="24" nzSm="12" nzMd="8">
                    <nz-select2 style="width:100%; padding:5px 0;" [nzOptions]="regions" [nzShowSearch]="true"
                        (nzSelectionChange)="onRegionsSelectionChange($event)" [(ngModel)]="selectedRegions" [nzLabelProperty]="'name'"
                        [nzValueProperty]="'id'" nzPlaceHolder="Tỉnh, thành phố">
                    </nz-select2>
                </div>
                <div nz-col nzXs="24" nzSm="24" nzMd="8">
                    <div style="display:table;width:100%;">
                        <nz-select2 style="width:100%;display:table-cell;padding:5px 0;" [nzOptions]="categories"
                            [nzShowSearch]="true" [(ngModel)]="selectedCategories" (nzSelectionChange)="onCategoriesSelectionChange($event)"
                            [nzLabelProperty]="'name'" [nzValueProperty]="'id'" nzPlaceHolder="Danh mục"></nz-select2>

                        <button style="border-radius:0px;display:table-cell;padding:5px 0;width:100px" nz-button nzType="primary"
                            nzSize="large" (click)="doSearch()">Tìm kiếm</button>
                    </div>
                </div>

            </div>
            <div nz-row nzType="flex" nzJustify="start">
                <div nz-col nzXs="24" nzSm="12" nzMd="8">
                    <nz-select style=" width:100%;padding:5px 0;" nzShowSearch nzAllowClear nzPlaceHolder="Khoảng giá"
                        [(ngModel)]="selectedPriceRange">
                        <nz-option *ngFor="let option of priceRanges" [nzLabel]="option.value" [nzValue]="option.key"></nz-option>
                    </nz-select>
                </div>
            </div>
        </div>
    </div>
</header>